"""
Purpose: Base Class For Tickets,voucher service,extract data
Owner  : KISHOR PS
Date   : 01/10/2019
Re. F/M: 
Last Update: 
"""



try:
    from ticketCapture.lib import generalMethods
    from ticketCapture.lib import generalMethodsWave
except:
    from lib import generalMethods
    from lib import generalMethodsWave

try:
    ins_general_methods = generalMethods.GeneralMethods()
    if ins_general_methods.dct_conf_data['TRAACS_VERSION'] != 'SAAS':
        ins_general_methods = generalMethodsWave.GeneralMethods()
except Exception as msg:
    print ('Connection Error..',msg)
    raise    
class TicketBase(object):

    def __init__(self, *args):
        self.int_ticket_id = None
        self.int_location_id  = None
        self.int_location_id_rfd  = None
        self.str_pnr_no = ''
        self.str_our_lpo = ''
        self.str_ticket_number = ''
        self.str_last_conjection_ticket_number = ''
        self.str_original_issue = ''
        self.str_hand_ticket_number = ''
        self.str_lpo_number = ''
        self.int_ticket_type_id = None
        self.int_region_id = None
        self.int_class_id = None
        self.int_return_class_id = None
        self.int_no_of_pax_rfd = 0
        self.int_no_of_pax_inv = 1
        self.int_company_id = 1
        self.int_company_id_rfd = 1
        self.flt_supplier_currency_roe = 1
        self.flt_supplier_currency_roe_rfd = 1
        self.int_card_payment_type = 0
        self.int_card_payment_type_rfd = 0
        self.chr_ticket_status = 'I'
        self.chr_bsp_ticket_status = 'I'
        self.chr_system_sale_part_action = 'I'
        self.chr_system_refund_part_action = ''
        self.chr_ticket_category = 'P'
        self.bln_refund = False
        self.bln_emd = False
        self.str_booking_agency_office_id = ''
        self.str_ticketing_agency_office_id = ''
        self.str_branch_code = ''
        self.str_pnr_first_owner_office_id = ''
        self.str_pnr_current_owner_office_id = ''
        self.int_dc_card = None
        self.int_dc_card_rfd = None
        self.bln_uccf = False
        self.bln_glpo = False
        self.int_supplier_id  = None
        self.int_supplier_id_rfd  = None
        self.chr_supplier_type = ''
        self.str_ticket_issue_date = None
        self.str_ticket_booking_date = None
        self.str_ticket_type = ''
        self.flt_overriding_commn_percentage  = 0.00
        self.str_booking_agent_code = ''
        self.str_booking_agent_numeric_code = ''
        self.str_ticketing_agent_code = ''
        self.str_ticketing_agent_numeric_code = ''
        self.int_airline_id = None
        self.int_airline_account_id = None
        self.str_airline_character_code  = ''
        self.str_airline_numeric_code = ''
        self.str_airline_name = ''
        self.str_flight_number = ''
        self.str_region_code = ''
        self.str_class_of_service = ''
        self.str_class_of_booking = ''
        self.str_sector = ''
        self.str_sector_rfd = ''
        self.lst_sector_details = []
        self.lst_setcor_data = []
        self.dct_airport = {}
        self.int_no_of_segments = 0
        self.int_number_of_segments_rfd = 0
        self.str_itinerary_details = ''
        self.str_class = ''
        self.str_return_class = ''
        self.str_class_group = ''
        self.str_return_class_group = ''
        self.str_tour_code = ''
        self.str_fare_basis = ''
        self.str_fare_construction = ''
        self.str_ticket_designator = ''
        self.str_crs_company = ''
        self.str_pax_type = ''
        self.str_pax_name = ''
        self.str_pax_name_rfd = ''
        self.str_phone = ''
        self.str_currency_type_code = ''
        self.flt_published_fare_inv = 0.00
        self.flt_market_fare_inv = 0.00
        self.flt_market_fare_cash_inv = 0.00
        self.flt_market_fare_credit_inv = 0.00
        self.flt_special_fare_inv = 0.00
        self.flt_total_tax_inv = 0.00
        self.flt_total_tax_cash_inv = 0.00
        self.flt_total_tax_credit_inv = 0.00
        self.str_tax_details = ''
        self.str_tax_details_rfd = '' #42728
        self.flt_selling_price = 0.00
        self.flt_selling_price_rfd = 0.00
        self.str_file_name_inv = ''
        self.str_file_name_rfd = ''
        self.flt_service_charge = 0.00
        self.flt_service_charge_rfd = 0.00
        self.flt_service_charge_percentage_inv = 0.00 
        self.flt_service_charge_percentage_rfd = 0.00
        self.flt_standard_commission = 0.00
        self.flt_standard_commission_rfd = 0.00
        self.flt_supplier_amount = 0.00
        self.flt_supplier_amount_rfd = 0.00
        self.flt_std_commn_percentage_inv = 0.00
        self.flt_discount_given_inv = 0.00
        self.flt_fare_differece = 0.00
        self.flt_adm_expect = 0.00
        self.str_actually_collected_amount = 0.00
        self.str_refund_date = None
        self.flt_published_fare_rfd = 0.00
        self.flt_market_fare_rfd = 0.00
        self.flt_market_fare_cash_rfd = 0.00
        self.flt_market_fare_credit_rfd = 0.00
        self.flt_special_fare_rfd = 0.00
        self.flt_total_tax_rfd = 0.00
        self.flt_total_tax_cash_rfd = 0.00
        self.flt_total_tax_credit_rfd = 0.00
        self.dbl_service_charge = 0.00
        self.flt_net_payable_inv = 0.00
        self.flt_net_payable_rfd = 0.00
        self.flt_actual_cost_inv = 0.00
        self.flt_actual_cost_rfd = 0.00
        self.flt_profit_inv = 0.00
        self.flt_profit_rfd = 0.00
        self.flt_debited_amount_inv = 0.00
        self.flt_debited_amount_rfd = 0.00
        self.flt_inv_debited_amount_rfd = 0.00
        self.flt_credited_amount_rfd = 0.00
        self.flt_gross_payable_inv = 0.00
        self.flt_gross_payable_rfd = 0.00
        self.flt_std_commn_percentage_rfd = 0.00
        self.flt_discount_given_rfd = 0.00
        self.flt_supplier_refund_charge = 0.00
        self.flt_supplier_refund_charge_credit = 0.00
        self.flt_supplier_refund_charge_cash = 0.00
        self.flt_client_refund_charge = 0.00
        self.flt_supplier_refund_net = 0.00
        self.flt_client_refund_net = 0.00
        self.str_inv_document_number = ''
        self.str_rfd_document_number = ''
        self.bln_bsp_reconciled_issue = False
        self.bln_deal_fare = False
        self.bln_dc_reconciled_issue = False
        self.flt_bsp_difference_amt_issue = 0.00
        self.flt_dc_difference_amt_issue = 0.00
        self.flt_additional_service_charge = 0.00
        self.flt_deal_fare_amt = 0.00
        self.flt_supplier_amt_as_per_bsp_issue = 0.00
        self.flt_supplier_amt_as_per_dc_issue = 0.00
        self.flt_partial_uccf_amount = 0.00
        self.flt_it_market_fare = 0.00
        self.flt_it_tax = 0.00
        self.flt_over_commission = 0.0
        self.int_branch_id = None
        self.int_branch_id_rfd = None  #44032
        self.int_count = 0
        self.lst_company_details = []
        self.lst_rst = [[0 for x in range(7)] for x in range(7)]
        self.dct_airline_code = {}
        self.dct_arrival_date = {}
        self.dct_departure_date = {}
        self.dct_origin_code = {}
        self.dct_destination_code = {}
        self.dct_class_of_service = {}
        self.dct_flight_no = {}     
        self.str_company_name = ""
        self.str_group = ""
        self.str_address = ""
        self.str_email = ""
        self.str_phone = ""
        self.str_fax = ""
        self.bln_bsp_reconciled_refund = False
        self.bln_dc_reconciled_refund = False
        self.flt_bsp_difference_amt_refund = 0.00 
        self.flt_dc_difference_amt_refund  = 0.00
        self.flt_supplier_amt_as_per_bsp_refund  = 0.00
        self.flt_supplier_amt_as_per_dc_refund  = 0.00
        self.str_account_name_inv = ""
        self.str_departure_date = ""
        self.str_airline_name = "" 
        self.str_orgin_name = ""
        self.str_dest_name = ""
        self.str_departure_time = ""
        self.str_arrival_time = "" 
        self.str_pnr = ""
        self.str_arrival_date = ""
        self.str_agent_code = ''
        self.str_cost_centre = ''
        self.str_job_code = ''
        self.str_employee_number = ''
        self.str_travel_reg_no = ''
        self.dat_card_authorization = None
        self.tim_card_authorization = None
        self.str_card_approval_code = ''
        self.str_cc_type_inv = ''
        self.str_cc_type_rfd = ''
        self.bln_fare_difference_claimed = False
        self.str_booking_agency_iata_no = ''
        self.str_ticketing_agency_iata_no = ''
        self.str_pnr_current_owner_iata_no = ''
        self.flt_total_amount_collected = 0.00
        self.str_stop_over_airports = ''
        self.str_void_date = ''
        self.str_file_name = ''
        self.str_travel_date = None
        self.int_account_master_id = None
        self.int_account_master_id_rfd = None
        self.int_profile_id = None
        self.chr_account_type = ''
        self.str_account_code_inv = ''
        self.str_account_name_inv = ''
        self.str_return_date = None
        self.str_auto_invoice_created_by = ''
        self.str_auto_invoice_location = ''
        self.str_salesman_code = ''
        self.str_ticketing_agent_code_rfd = ''
        self.str_ticketing_agent_numeric_code_rfd = ''
        self.str_customer_code = ''
        self.str_remarks = ''
        self.str_remarks_rfd = ''
        self.str_email = ''
        self.str_rm_sub_type = ''
        self.str_rm_staff = ''
        self.str_purpose = ''
        self.str_reason = ''
        self.str_lost = ''
        self.str_destination = ''
        self.int_tickets_count_in_inv = 1
        self.int_agent_code = None
        self.str_employee_email = ''
        self.str_base_currency = ins_general_methods.str_base_currency
        self.str_base_currency_rfd = ''
        self.str_tran_currency_rfd = ''
        self.str_class_group = ''
        self.str_rm_opt1 = ''
        self.str_rm_opt2 = ''
        self.str_rm_opt3 = ''
        self.str_rm_opt4 = ''
        self.str_rm_opt5 = ''
        self.str_rm_opt6 = ''
        self.str_rm_opt7 = ''
        self.str_rm_opt8 = ''
        self.str_rm_opt9 = ''
        self.str_rm_opt10 = ''
        self.str_rm_opt11 = ''
        self.str_rm_opt12 = ''
        self.str_rm_opt13 = ''
        self.str_rm_opt14 = ''
        self.str_rm_opt15 = ''
        self.str_rm_opt16 = ''
        self.str_rm_opt17 = ''
        self.str_rm_opt18 = ''
        self.str_rm_opt19 = ''
        self.str_rm_opt20 = ''
        self.str_air_plus_cust_code = ''
        self.str_airplus_cost_center = ''
        self.str_airplus_project_code = ''
        self.str_airplus_employee_id = ''
        self.str_airplus_dept_code = ''
        self.str_airplus_action_no = ''
        self.str_airplus_internal_acnt_no = ''
        self.str_airplus_secretary = ''
        self.str_airplus_trip_reason = ''
        self.str_airplus_card_expiry_date = ''
        self.str_airplus_resource_code = ''
        self.str_airplus_lpo_no = ''
        self.str_airplus_pa = ''
        self.flt_airplus_service_fee = 0.00
        self.str_airplus_card_type = ''
        self.str_airplus_accounting_unit = ''
        self.str_airplus_departure_date = ''
        self.str_airplus_order_no = ''
        self.str_connection_ticket = ''
        self.int_cost_centre_id_ext = None
        self.int_department_id_ext = None
        self.str_agency_sales_man = ''
        self.str_agency_ticketing_staff = ''
        self.str_agency_traacs_user = ''
        self.str_agency_adv_receipt_no = ''
        self.str_agency_internal_remarks = ''
        self.str_agency_product_code = ''
        self.str_agency_sub_product_code = ''
        self.str_agency_auto_invoice_yes_no = ''
        self.str_party_code = ''
        self.str_party_file_job_card_no = ''
        self.str_party_lpo_no = ''
        self.int_party_maximum_tickets = None
        self.str_party_multiple_fop_yes_no = ''
        self.str_party_additional_ar = ''
        self.str_cust_currency_code = ''
        self.flt_cust_currency_roe = 0.0
        self.str_cust_approver_name = ''
        self.str_cust_approver_email = ''
        self.str_cust_employee_no = ''
        self.str_cust_employee_grade = ''
        self.str_cust_cost_centre = ''
        self.str_cust_department = ''
        self.str_cust_accounting_unit = ''
        self.str_cust_internal_ac_no = ''
        self.str_cust_project_code = ''
        self.str_cust_action_no = ''
        self.str_cust_job_code = ''
        self.str_cust_resource_code = ''
        self.str_cust_commitment_no = ''
        self.str_cust_purpose_of_travel = ''
        self.str_cust_pax_mobile = ''
        self.str_cust_pax_email = ''
        self.str_cust_engagement_code = ''
        self.str_against_doc_ext = ''
        self.str_corp_card_code_ext = ''
        self.str_compliance_ext = ''
        self.str_pnr_type_ext = ''
        self.str_sub_customer_code = ''
        self.flt_published_fare_ext = 0.00
        self.flt_original_fare_ext = 0.00
        self.flt_printing_fare_ext = 0.00
        self.flt_service_fee_ext = 0.00
        self.flt_extra_earning_ext = 0.00
        self.flt_payback_commission_ext = 0.00
        self.flt_cc_charge_collected_ext  = 0.00
        self.flt_discount_given_ext = 0.00
        self.flt_selling_price_ext = 0.00
        self.flt_lowest_offered_ext = 0.00
        self.str_reason_for_choose_higher_ext = ''
        self.flt_fare_accepted_or_paid_ext = 0.0
        self.flt_fare_lost_amount_ext = 0.00
        self.int_rm_account_id_1 = None
        self.int_rm_account_id_2 = None
        self.int_rm_account_id_3 = None
        self.flt_rm_amount_1 = 0
        self.flt_rm_amount_2 = 0
        self.flt_rm_amount_3 = 0
        self.int_pay_back_account_id_inv_1 = None
        self.int_pay_back_account_id_inv_2 = None
        self.int_pay_back_account_id_inv_3 = None
        self.int_pay_back_account_id_rfd_1 = None
        self.int_pay_back_account_id_rfd_2 = None
        self.int_pay_back_account_id_rfd_3 = None
        self.int_pay_back_account_id_inv = None
        self.int_pay_back_account_id_rfd = None
        self.flt_pay_back_commission_percentage_inv = 0
        self.flt_pay_back_commission_percentage_rfd = 0
        self.flt_pay_back_commission_inv_1 = 0
        self.flt_pay_back_commission_inv_2 = 0
        self.flt_pay_back_commission_inv_3 = 0
        self.flt_pay_back_commission_rfd_1 = 0
        self.flt_pay_back_commission_rfd_2 = 0
        self.flt_pay_back_commission_rfd_3 = 0
        self.flt_pay_back_commission_inv = 0
        self.flt_pay_back_commission_rfd = 0
        self.flt_extra_earning_inv = 0
        self.flt_extra_earning_rfd = 0
        self.int_extra_earning_account_id_inv = None
        self.int_extra_earning_account_id_rfd = None
        self.flt_extra_earninig_percentage_inv = 0.00
        self.flt_extra_earninig_percentage_rfd = 0.00
        self.int_discount_account_id_inv = None
        self.int_discount_account_id_rfd = None
        self.flt_discount_given_percentage_inv = 0.00
        self.flt_discount_given_percentage_rfd = 0.00
        self.flt_cc_charge_collected_percentage = 0.00
        self.int_counter_staff_id_inv = None 
        self.int_counter_staff_id_rfd = None
        self.int_booking_agent_counter_staff_id = None
        self.str_cc_card_no = ''
        self.str_quot_option_1 = ''
        self.str_quot_option_2 = ''
        self.flt_standard_commission_captured = ''
        self.bln_auto_invoice_emd_tickets = True 
        self.int_product_master_id_inv = None
        self.int_product_master_id_rfd = None
        self.int_credit_card_pos_id = None 
        self.str_cc_number = '' 
        self.str_suppression_indicator = ''
        self.bln_k_section_fare = False
        self.flt_market_fare_card_amount_inv = 0 	
        self.flt_market_fare_uccf_amount_inv = 0 
        self.flt_tax_card_amount_inv = 0 	
        self.flt_tax_uccf_amount_inv = 0 
        self.flt_market_fare_card_amount_rfd = 0 	
        self.flt_market_fare_uccf_amount_rfd = 0 
        self.flt_tax_card_amount_rfd = 0 	
        self.flt_tax_uccf_amount_rfd = 0 	
        self.flt_sup_charge_card_amount_rfd = 0 	
        self.flt_sup_charge_uccf_amount_rfd = 0
        self.bln_set_airline_as_supplier  = False
        self.bln_set_airline_as_supplier_rfd  = False
        self.int_corporate_card_id_rfd = None
        self.str_crm_reference = '' 
        self.flt_selling_price_child = 0
        self.flt_selling_price_infant = 0
        self.bln_adt_selling_price = False
        self.bln_chd_selling_price = False
        self.bln_inf_selling_price = False
        self.flt_service_fee_infant = 0
        self.flt_service_fee_child = 0
        self.flt_selling_price_child = 0
        self.flt_selling_price_infant = 0
        self.bln_adt_svf = False
        self.bln_chd_svf = False
        self.bln_inf_svf = False
        self.bln_adt_selling_price = False
        self.bln_chd_selling_price = False
        self.bln_inf_selling_price = False
        self.str_ticketing_airline_numeric_code = ''
        self.str_ticketing_airline_character_code = ''
        self.str_ticketing_airline_name = ''
        self.lst_pax_names = [] 
        self.bln_xo_capturing = False
        self.str_auto_inv_grouping = ''
        self.str_master_narration = ''
        self.str_master_reference = ''
        self.flt_vat_in_inv = 0
        self.flt_vat_in_rfd = 0
        self.flt_cc_collected_amount = 0
        self.dct_mx_tax_detail = {}
        self.dct_ma_tax = {}
        self.str_rm_field_data = ''
        self.str_fop_data = ''
        self.str_pricing_code = ''
        self.dat_rm_lpo_date = None
        self.str_airline_pnr_number = ''
        self.bln_reissue_fop = False
        self.str_passport_no = '' 
        self.str_nationality = ''
        self.str_cc_number_ext = ''
        self.str_hotel_chain_code = '' 
        self.bln_return = False
        self.str_co2_emission = ''
        self.str_cust_currency = ''
        self.flt_cust_currency_roe = 1
        self.str_cust_currency_rfd = ''
        self.flt_cust_currency_roe_rfd = 1
        self.json_user_defined_remark = {} #43533
        self.json_extra_capturing_data = {}
        self.dct_extra_capturing_data = {}
        self.int_cust_traveller_id = None #45745
        self.flt_rm_normal_discount = 0.0 #45196
        self.flt_rm_plb_discount = 0.0
        self.flt_rm_deal_discount = 0.0
        self.int_distribution_type_inv = 0 #46542
        self.int_distribution_type_rfd = 0
        
class VoucherBase(object):
    
    def __init__(self):
        self.int_voucher_identifier = None
        self.str_voucher_type = ''
        self.str_voucher_category = ''
        self.int_location_id = None
        self.int_location_id_rfd = None
        self.int_department_id = None
        self.int_department_id_rfd = None
        self.int_company_id = 1
        self.int_company_id_rfd = 1
        self.int_country_id = None
        self.str_country = ''
        self.int_city_id = None
        self.str_city_code = ''
        self.str_city_name = ''
        self.int_customer_account_id_inv = None
        self.int_no_of_days = 0
        self.tim_from_time = ""
        self.int_counter_staff_id = None
        self.int_vendor_id = None
        self.str_vendor_code = None
        self.int_supplier_id  = None
        self.int_supplier_id_rfd  = None
        self.int_meals_plan_id = None
        self.int_corp_card_id = None
        self.bln_from_to_date = False
        self.int_card_payment_type = 0
        self.int_card_payment_type_rfd = 0
        self.int_no_of_guest_rfd = 0
        self.int_no_of_guest_inv = 1
        self.int_no_of_adults_inv = 1
        self.int_no_of_child_inv = 0
        self.int_no_of_nights = None
        self.int_no_of_nights_rfd = 0
        self.int_no_of_rooms = None
        self.int_no_of_room_nights = None
        self.str_room_type = ''
        self.str_meals_plan = ''
        self.str_hotel_name = ''
        self.str_property_code = ''
        self.int_service_id = None
        self.str_pnr_no = ''
        self.str_voucher_number = ''
        self.chr_supp_doc_category = 'P'
        self.str_customer_lpo_number = ''
        self.str_customer_cost_centre = ''
        self.str_customer_emp_no = ''
        self.chr_voucher_type = ''
        self.str_service_type = ''
        self.str_particulars = ''
        self.chr_voucher_status = 'I'
        self.chr_system_sale_part_action = 'I'
        self.chr_system_refund_part_action = ''
        self.chr_voucher_category = 'P'
        self.str_voucher_issue_date = None
        self.str_voucher_refund_date = None
        self.str_voucher_booking_date = None
        self.str_gds_company = ''
        self.str_booking_details = ''
        self.int_pax_identifier = 1
        self.str_pax_type = ''
        self.str_pax_name = ''
        self.str_pax_name_rfd = ''
        self.str_phone = ''
        self.str_file_name_inv = ''
        self.str_file_name_rfd = ''
        self.str_remarks = ''
        self.str_hotel_confirm_number = ''
        self.str_supplier_confirm_number = ''
        self.str_car_type = ''
        self.str_hotel_check_in_time = ''
        self.str_hotel_check_in_date = ''
        self.str_hotel_check_out_time = ''
        self.str_hotel_check_out_date = ''
        self.str_pick_up_date = ''
        self.str_pick_up_location = ''
        self.str_pick_up_time = ''
        self.str_drop_off_location = ''
        self.str_driver_ph_no = ''
        self.str_from_date = None
        self.str_to_date = None
        self.str_base_currency = ''
        self.str_base_currency_rfd = ''
        self.str_tran_currency = ''
        self.str_tran_currency_rfd = ''
        self.flt_supplier_currency_roe = 1
        self.flt_supplier_currency_roe_rfd = 1
        self.flt_special_fare_inv = 0.00
        self.flt_printing_fare_inv = 0.00
        self.flt_rm_voucher_selling_price = 0.00
        self.flt_total_tax_inv = 0.00
        self.flt_total_tax_credit_card_inv = 0.00
        self.flt_total_tax_credit_inv = 0.00
        self.str_voucher_code = ''
        self.str_voucher_service_name = ''
        self.flt_gross_payable_inv = 0.00
        self.flt_net_payable_inv = 0.00
        self.flt_selling_price = 0.00
        self.flt_selling_price_rfd = 0.00
        self.flt_service_fee = 0.00
        self.flt_service_fee_percentage = 0.00
        self.flt_discount = 0.00
        self.flt_discount_percentage = 0.00
        self.flt_supplier_amount = 0.00
        self.flt_supplier_amount_rfd = 0.00
        self.flt_fare_inv = 0.00
        self.flt_fare_credit_inv = 0.00
        self.flt_fare_credit_card_inv = 0.00
        self.flt_published_fare_rfd = 0.00
        self.flt_market_fare_rfd = 0.00
        self.flt_market_fare_cash_rfd = 0.00
        self.flt_market_fare_credit_rfd = 0.00
        self.flt_special_fare_rfd = 0.00
        self.flt_total_tax_rfd = 0.00
        self.flt_total_tax_cash_rfd = 0.00
        self.flt_total_tax_credit_rfd = 0.00
        self.flt_service_charge = 0.00
        self.flt_actual_cost_inv = 0.00
        self.flt_actual_cost_rfd = 0.00
        self.flt_selling_price_inv = 0.00
        self.flt_profit_inv = 0.00
        self.flt_profit_rfd = 0.00
        self.flt_debited_amount_inv = 0.00
        self.flt_debited_amount_rfd = 0.00
        self.flt_inv_debited_amount_rfd = 0.00
        self.flt_rm_voucher_discount = 0.00
        self.flt_rm_voucher_tax = 0.00
        self.flt_credited_amount_rfd = 0.00
        self.flt_gross_payable_inv = 0.00
        self.flt_gross_payable_rfd = 0.00
        self.int_counter_staff_id_inv = None   
        self.int_counter_staff_id_rfd = None
        self.str_iata_num = ''
        self.str_hotel_address = ''
        self.str_hotel_phone = ''
        self.str_hotel_fax = ''
        self.str_hotel_email = ''
        self.str_credit_card_num = ''
        self.bln_hhl = False
        self.int_profile_account_id = None
        self.int_product_master_id_inv = None
        self.int_product_master_id_rfd = None
        self.bln_transfer_voucher = False
        self.bln_visa_voucher = False
        self.str_type_of_service = ''
        self.flt_fare_card_amount = 0
        self.flt_fare_uccf_amount = 0
        self.flt_tax_card_amount = 0
        self.flt_tax_uccf_amount = 0
        self.int_booking_staff_id = None 
        self.dat_rm_lpo_date = None
        self.str_customer_code = ''
        self.str_agency_sales_man = ''
        self.str_agency_ticketing_staff = ''
        self.str_agency_traacs_user = ''
        self.str_agency_adv_receipt_no = ''
        self.str_agency_internal_remarks = ''
        self.str_agency_product_code = ''
        self.str_agency_sub_product_code = ''
        self.str_agency_auto_invoice_yes_no = ''
        self.str_party_file_job_card_no = ''
        self.str_party_lpo_no = ''
        self.int_party_maximum_tickets = ''
        self.str_party_multiple_fop_yes_no = ''
        self.str_cust_approver_name = ''
        self.str_cust_approver_email = ''
        self.str_cust_employee_grade = ''
        self.str_cust_department = ''
        self.str_cust_accounting_unit = ''
        self.str_cust_internal_ac_no = ''
        self.str_cust_project_code = ''
        self.str_cust_action_no = ''
        self.str_cust_job_code = ''
        self.str_cust_resource_code = ''
        self.str_cust_commitment_no = ''
        self.str_cust_purpose_of_travel = ''
        self.str_cust_pax_mobile = ''
        self.str_cust_pax_email = ''
        self.str_cust_engagement_code = ''
        self.str_against_doc_ext = ''
        self.str_corp_card_code_ext = ''
        self.str_compliance_ext = ''
        self.str_pnr_type_ext = ''
        self.str_quot_option_1 = ''
        self.str_quot_option_2 = ''
        self.str_master_reference = ''
        self.str_master_narration = ''
        self.str_rm_field_data = ''
        self.str_rm_opt1 = ''
        self.str_rm_opt2 = ''
        self.str_rm_opt3 = ''
        self.str_rm_opt4 = ''
        self.str_rm_opt5 = ''
        self.str_rm_opt6 = ''
        self.str_rm_opt7 = ''
        self.str_rm_opt8 = ''
        self.str_rm_opt9 = ''
        self.str_rm_opt10 = ''
        self.str_rm_opt11 = ''
        self.str_rm_opt12 = ''
        self.str_rm_opt13 = ''
        self.str_rm_opt14 = ''
        self.str_rm_opt15 = ''
        self.str_rm_opt16 = ''
        self.str_rm_opt17 = ''
        self.str_rm_opt18 = ''
        self.str_rm_opt19 = ''
        self.str_rm_opt20 = ''
        self.str_rate_type = '' 
        self.str_book_rate = ''
        self.int_no_of_car = 0 
        self.int_no_of_days = 0
        self.int_no_of_days_rfd = 0
        self.int_car_rental_company_id = None
        self.str_drop_off_date = ''
        self.str_drop_off_time = ''
        self.bln_with_dropup = False
        self.bln_with_pickup = False
        self.str_car_details = ''
        self.str_voucher_currency_code = ''
        self.str_cc_number_ext = ''
        self.str_cc_type = ''
        self.str_hotel_chain_code = ''
        self.json_user_defined_remark = {} #43533
        self.json_extra_capturing_data = {}
        self.dct_extra_capturing_data = {}
        self.str_crs_company = ''
        self.json_check_in_check_out_details = []
        #40225
        self.str_cust_currency = ''
        self.flt_cust_currency_roe = 1
        self.str_cust_currency_rfd = ''
        self.flt_cust_currency_roe_rfd = 1
        self.int_cust_traveller_id = None #45745

class CaptureBase(object):
    
    def __init__(self, *args):
        self.str_crs_company = ''
        self.bln_emd = False
        self.bln_vmco = False
        self.str_check_digit = ''
        self.str_pricing_date = ''
        self.str_supplier_code = ''
        self.str_tsm_identifier = ''
        self.str_tsm_number = ''
        self.str_emd_ticket_number = ''
        self.bln_emd_ticket = False
        self.str_carrier_airline_code_mkt = ''
        self.str_carrier_airline_code_srvcng = ''
        self.str_carrier_fee_owner = ''
        self.str_carrier_or_operator = ''
        self.str_at_location = ''
        self.str_reason_issuance = ''
        self.str_reason_issuance_descr = ''
        self.str_issuance_subcode = ''
        self.str_issuance_subcode_descr = ''
        self.str_emd_type = ''
        self.str_emd_remarks = ''
        self.str_service_remarks = ''
        self.str_ticket_value = ''
        self.str_ticket_rm_remarks = ''
        self.str_rm_email = ''
        self.str_phone = ''
        self.str_issue_type = ''
        self.str_total_amount = ''
        self.str_tax_indicator = ''
        self.str_refundable_amount = ''
        self.str_icw_doc_no = ''
        self.int_tickets_count = 1
        self.int_tickets_count_in_inv = 0
        self.str_rm_emp_email = ''
        self.str_connection_ticket = ''
        self.int_tst_count = None
        self.str_fare_construction = ''
        self.str_ticket_designator = ''
        self.str_pnr_no = ''
        self.str_booking_agency_iata_no = ''
        self.str_ticketing_agency_iata_no = ''
        self.str_pnr_current_owner_iata_no = ''
        self.str_ticketing_airline_name = ''
        self.str_ticketing_airline_character_code = ''
        self.str_ticketing_airline_numeric_code = ''
        self.str_booking_agent_code = ''
        self.str_booking_agent_numeric_code = ''
        self.str_ticketing_agent_code = ''
        self.str_ticketing_agent_numeric_code = ''
        self.str_pricing_code = ''
        self.str_pnr_creation_date = ''
        self.str_pnr_change_date = ''
        self.str_file_creation_date = ''
        self.chr_ticket_sale_type = ''
        self.bln_stopover_permitted = False
        self.lst_stop_over_airports = []
        self.lst_sector = []
        self.lst_sector_details = [] 
        self.dct_sector_details = {}
        self.str_orgin_airport_code = ''
        self.str_orgin_name = ''
        self.int_number_of_segments = 0
        self.int_number_of_segments_rfd = 0
        self.str_start_port_code = ''
        self.str_dest_code = ''
        self.str_dest_name = ''
        self.str_airline_code = ''
        self.str_flight_number = ''
        self.str_class_of_service = ''
        self.str_class_of_booking = ''
        self.str_open_segment_indicator = ''
        self.str_airline_no = ''
        self.str_arrival_time = ''
        self.str_arrival_date = ''
        self.str_departure_date = ''
        self.str_first_departure_date = '' 
        self.str_departure_time = ''
        self.str_file_name_inv = ''
        self.str_file_name_rfd = ''
        self.int_mileage = 0 
        self.dct_airport = {}
        self.lst_company_details = []
        self.str_currency_type_code = ''
        self.flt_published_fare = 0.00
        self.flt_total_amount_collected = 0.00
        self.flt_market_fare = 0.00
        self.flt_service_charge = 0.00
        self.flt_additional_service_charge = 0.00
        self.flt_std_commn_percentage_inv = 0.00
        self.flt_std_commn_percentage_rfd = 0.00
        self.flt_it_total = 0.00
        self.str_it_total = ''
        self.lst_fare_basis = []
        self.lst_new_sector = []
        self.str_pax_name = ''
        self.str_pax_type = 'ADT'
        self.lst_pax_names = [] 
        self.lst_ticket_detls = []
        self.lst_refund_ticket_detls = [] 
        self.lst_ins_voucher = []
        self.lst_voucher_numbers = []
        self.lst_tax = []
        self.flt_tax = 0.00
        self.str_tour_code = ''
        self.str_void_date = ''
        self.dat_ticket_refund = None
        self.flt_fare_paid = 0.00
        self.flt_fare_used = 0.00
        self.flt_fare_refund = 0.00
        self.flt_cancellation_fee = 0.00
        self.flt_tax_refund = 0.00
        self.flt_total_refund = 0.00
        self.flt_uccf_amount = 0.00
        self.flt_credit_amount = 0.00
        self.bln_refund = False
        self.bln_partial_uccf = False
        self.str_original_issue = ''
        self.str_base_ticket_number =''
        self.str_customer_code = ''
        self.str_lpo_number = ''
        self.str_return_date = None
        self.str_auto_invoice_created_by=''
        self.str_auto_invoice_location=''
        self.str_auto_invoice_branch_code = ''
        self.str_booking_agency_office_id = ''
        self.str_pnr_first_owner_office_id = ''
        self.str_pnr_current_owner_office_id = ''
        self.str_ticketing_agency_office_id = ''
        self.str_defult_currency_code = ''
        self.flt_rm_collection_amount = 0.00
        self.flt_rm_service_charge = 0.00
        self.str_rm_customer_code = ''
        self.str_rm_lpo_number = ''
        self.str_rm_sub_type = ''
        self.str_rm_staff = ''
        self.str_purpose = ''
        self.str_reason = ''
        self.str_lost = ''
        self.int_rm_agent_code = None
        self.str_rm_cost_centre =''
        self.str_rm_employee_number = ''
        self.str_rm_job_code = ''
        self.str_rm_travel_reg_no = ''
        self.dat_card_authorization = None
        self.tim_card_authorization = None
        self.str_card_approval_code = ''
        self.str_cc_card_no = ''
        self.str_cc_type = ''
        self.str_amadeus_c3x_opt_one = ''
        self.str_amadeus_c3x_opt_two= ''
        self.dct_fp_data = {}
        self.flt_rm_net_fare = 0.0
        self.flt_published_fare_ext = 0.00
        self.flt_published_fare_chd = 0.0
        self.flt_published_fare_inf = 0.0
        self.bln_published_fare_adt = False
        self.bln_published_fare_chd = False
        self.bln_published_fare_inf = False
        self.flt_rm_discount = 0.0
        self.flt_rm_discount_chd = 0.0
        self.flt_rm_discount_inf = 0.0
        self.bln_rm_discount_adt = False
        self.bln_rm_discount_chd = False
        self.bln_rm_discount_inf = False
        self.flt_extra_earning_inv = 0.00
        self.flt_extra_earning_chd = 0.0
        self.flt_extra_earning_inf = 0.0
        self.bln_extra_earning_adt = False
        self.bln_extra_earning_chd = False
        self.bln_extra_earning_inf = False
        self.str_branch_code = ''
        self.lst_cc_seg_nos = []
        self.str_airplus_cust_code = ''
        self.str_airplus_cost_center = ''
        self.str_airplus_project_code = ''
        self.str_airplus_employee_id = ''
        self.str_airplus_dept_code = ''
        self.str_airplus_action_no = ''
        self.str_airplus_internal_acnt_no = ''
        self.str_airplus_secretary = ''
        self.str_airplus_trip_reason = ''
        self.str_airplus_card_expiry_date = ''
        self.str_airplus_resource_code = ''
        self.str_airplus_lpo_no = ''
        self.str_airplus_pa = ''
        self.flt_airplus_service_fee = 0.00
        self.str_airplus_card_type = ''
        self.str_airplus_accounting_unit = ''
        self.str_airplus_departure_date = ''
        self.str_airplus_order_no = ''
        self.int_cost_centre_id_ext = None
        self.int_department_id_ext = None
        self.str_agency_sales_man = ''
        self.str_agency_ticketing_staff = ''
        self.str_agency_traacs_user = ''
        self.str_agency_adv_receipt_no = ''
        self.str_agency_internal_remarks = ''
        self.str_agency_product_code = ''
        self.str_agency_sub_product_code = ''
        self.str_agency_auto_invoice_yes_no = ''
        self.str_party_code = ''
        self.str_party_file_job_card_no = ''
        self.str_party_lpo_no = ''
        self.int_party_maximum_tickets = None
        self.str_party_multiple_fop_yes_no = ''
        self.str_party_additional_ar = ''
        self.str_cust_approver_name = ''
        self.str_cust_approver_email = ''
        self.str_cust_employee_no = ''
        self.str_cust_employee_grade = ''
        self.str_cust_cost_centre = ''
        self.str_cust_department = ''
        self.str_cust_accounting_unit = ''
        self.str_cust_internal_ac_no = ''
        self.str_cust_project_code = ''
        self.str_cust_action_no = ''
        self.str_cust_job_code = ''
        self.str_cust_resource_code = ''
        self.str_cust_commitment_no = ''
        self.str_cust_purpose_of_travel = ''
        self.str_cust_pax_mobile = ''
        self.str_cust_pax_email = ''
        self.str_cust_engagement_code = ''
        self.str_against_doc_ext = ''
        self.str_corp_card_code_ext = ''
        self.str_compliance_ext = ''
        self.str_pnr_type_ext = ''
        self.str_sub_customer_code = ''
        self.flt_published_fare_ext = 0.00
        self.flt_original_fare_ext = 0.00
        self.flt_printing_fare_ext = 0.00
        self.flt_service_fee_ext = 0.00
        self.flt_extra_earning_ext = 0.00
        self.flt_payback_commission_ext = 0.00
        self.flt_cc_charge_collected_ext  = 0.00
        self.flt_discount_given_ext = 0.00
        self.flt_selling_price_ext = 0.00
        self.flt_lowest_offered_ext = 0.00
        self.str_reason_for_choose_higher_ext = ''
        self.flt_fare_accepted_or_paid_ext = 0.0
        self.flt_fare_lost_amount_ext = 0.00
        self.flt_standard_commission_captured = 0.00
        self.vchr_field_1 = ''
        self.vchr_field_2 = ''
        self.vchr_field_3 = ''
        self.vchr_field_4 = ''
        self.vchr_field_5 = ''
        self.vchr_field_6 = ''
        self.vchr_field_7 = ''
        self.vchr_field_8 = ''
        self.vchr_field_9 = ''
        self.vchr_field_10 = ''
        self.vchr_field_11 = '' 
        self.vchr_field_12 = ''
        self.vchr_field_13 = ''
        self.vchr_field_14 = ''
        self.vchr_field_15 = ''
        self.vchr_field_16 = ''
        self.vchr_field_17 = ''
        self.vchr_field_18 = ''
        self.vchr_field_19 = ''
        self.vchr_field_20 = ''
        self.str_rate_type = '' 
        self.str_book_rate = ''
        self.flt_pay_back_commission_percentage = 0
        self.str_pay_back_account_code = ''
        self.str_rm_account_code_1 = ''
        self.str_rm_account_code_2 = ''
        self.str_rm_account_code_3 = ''
        self.flt_rm_amount_1 = 0
        self.flt_rm_amount_2 = 0
        self.flt_rm_amount_3 = 0
        self.flt_service_fee_infant = 0
        self.flt_service_fee_child = 0
        self.flt_selling_price_child = 0
        self.flt_selling_price_infant = 0
        self.bln_adt_svf = False
        self.bln_chd_svf = False
        self.bln_inf_svf = False
        self.bln_adt_selling_price = False
        self.bln_chd_selling_price = False
        self.bln_inf_selling_price = False
        self.bln_k_section_fare = False
        self.bln_set_airline_as_supplier = False
        self.bln_set_airline_as_supplier_rfd = False
        self.bln_voucher_present_in_file = False
        self.bln_IMR_file = False
        self.str_deal_sharing_string = ''
        self.lst_card_data = []
        self.int_booking_agent_counter_staff_id = None
        self.str_quot_option_1 = ''
        self.str_quot_option_2 = ''
        self.bln_auto_invoice_emd_tickets = True 
        self.int_credit_card_pos_id = None 
        self.str_cc_number = '' 
        self.flt_market_fare_card_amount_inv = 0 	
        self.flt_market_fare_uccf_amount_inv = 0 
        self.flt_tax_card_amount_inv = 0 	
        self.flt_tax_uccf_amount_inv = 0 
        self.flt_market_fare_card_amount_rfd = 0 	
        self.flt_market_fare_uccf_amount_rfd = 0 
        self.flt_tax_card_amount_rfd = 0 	
        self.flt_tax_uccf_amount_rfd = 0 	
        self.flt_sup_charge_card_amount_rfd = 0 	
        self.flt_sup_charge_uccf_amount_rfd = 0
        self.flt_rm_voucher_supplier_amount = 0
        self.flt_rm_voucher_discount = 0
        self.flt_rm_voucher_tax = 0
        self.flt_rm_voucher_selling_price = 0
        self.str_voucher_supplier = ''
        self.dct_pax_name = {}
        self.str_crm_reference = '' # Refer 23236 
        self.bln_xo_capturing = False #  refer 25579
        self.lst_new_u_section_sector = []
        self.lst_booking_sector_details = []
        self.lst_u_section_sector = []
        self.str_auto_inv_grouping = ''
        self.str_master_narration = ''
        self.str_master_reference = ''
        self.str_isection_email = ''
        self.str_isection_email1 = ''
        self.str_isection_mobile = ''
        self.str_isection_mobile1 = ''
        self.str_i_section_pax_name = ''
        self.str_rm_field_data = ''
        self.lst_rm_field_data = []
        self.str_fop_data = ''
        self.str_hand_ticket_number = ''
        self.dat_rm_lpo_date = None
        self.str_airline_pnr_number = ''
        self.bln_reissue_fop = False
        self.dct_ssr_docs_data = {} 
        self.str_passport_no = ''
        self.str_nationality = ''
        self.flt_co2_emission = 0.0
        self.str_pax_identifier = ''
        self.int_pax_item_number = 0
        self.json_user_defined_remark = {}
        self.dct_extra_capturing_data = {}
        self.str_cust_traveller_id = '' #45745
        self.flt_rm_normal_discount = 0.0 #45196
        self.flt_rm_plb_discount = 0.0
        self.flt_rm_deal_discount = 0.0
        self.bln_ndc_content = False #46542
        self.int_distribution_type = 0
        self.bln_cc_charge_collected_chd = False  #45305
        self.bln_cc_charge_collected_inf = False
        #galileo#
        self.dct_original_ticket_data = {}
        self.dct_refund_data = {}
        self.bln_is_refund = False
        self.bln_is_void = False
        self.lst_pax_details = []
        self.str_ticket_type = 'ET'
        self.lst_added_tickets = []
        self.lst_airline_data = []
        self.dct_fare_details = {}
        self.dct_fare_basis_details = {}
        self.str_credit_card_code = ''
        self.str_credit_card_approval_code = ''
        self.str_ntd_issue_date = ''
        self.lst_waitlist_other_air_data = []
        self.flt_cc_collected_amount = 0
        self.str_first_travel_date = ''
        #Sabre#
        self.dct_mx_tax_detail = {}
        self.dct_ma_tax = {}
        self.dct_ticket_details = {}
        self.dct_refund_tickets = {}
        self.str_mir_rec_created_time = ''
        self.str_mir_rec_created_date = ''
        self.str_first_travel_year = ''
        self.str_flight_year = ''
        self.str_dep_month = ''
        self.str_dep_year = ''
        self.str_first_dep_month = ''
        self.str_previous_dest_code = ''
        self.str_suppression_indicator = ''
        self.str_ref_price_indicator = ''
        self.bln_advance_deposit_file = False
        self.bln_emd_and_ticket = False
        self.bln_ma_tax_card_amt = False
        self.str_stop_over_cities = ''
        self.str_m6_xt_tax_split_adt = ''
        self.str_m6_xt_tax_split_chd = ''
        self.str_m6_xt_tax_split_inf = ''
        self.bln_void = False
        self.int_m4_sequence = 0 
        self.dct_m4_sequence = {}
        self.dct_stop_over = {}
        self.dct_m5_card_vat = {}
        self.dct_m5_pax_no = {}
        self.lst_m5_ticket_type = []
        self.dct_cc_card = {}
        self.str_sector = ''
        self.str_sector_rfd = ''
        self.lst_order_details = []
        self.lst_lcc_ticket_voucher_number = []
        #worldspan#
        self.str_ticket_refund = ''
        self.dct_emd_ticket_details = {}
        self.flt_net_fare_inv = 0.0,
        self.int_pax_association = 1
        self.str_ticket_issue_date = None
        self.lst_json_key_user_defined_remark = []
        self.str_ins_db_id = ''
